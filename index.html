<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DARKSALE — Магазин архивной одежды / 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono&family=Herr+Von+Muellerhoff&display=swap');

        body { background-color: #000; color: #fff; font-family: 'Space Mono', monospace; -webkit-font-smoothing: antialiased; }
        
        .gallery-text { 
            font-family: 'Herr Von Muellerhoff', cursive; 
            font-size: 4rem; 
            color: rgba(255,255,255,0.85);
            margin-top: -50px; 
            margin-left: 20px;
            pointer-events: none;
            letter-spacing: 1px;
        }

        .nav-link { font-size: 10px; letter-spacing: 0.3em; text-transform: uppercase; transition: 0.3s; opacity: 0.5; cursor: pointer; }
        .nav-link:hover { opacity: 1; padding-left: 10px; }
        
        .product-card { position: relative; }
        .product-card img { filter: grayscale(1) contrast(1.2); transition: all 0.4s ease; opacity: 0.7; }
        .product-card:hover img:not(.sold-img) { filter: grayscale(0) contrast(1); opacity: 1; }
        
        .sold-overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.7); display: flex; align-items: center; justify-content: center; z-index: 10; pointer-events: none; }
        .sold-badge { border: 1px solid red; color: red; padding: 5px 15px; font-size: 14px; font-weight: bold; transform: rotate(-15deg); text-transform: uppercase; letter-spacing: 2px; }
        .sold-img { opacity: 0.2 !important; filter: grayscale(1) blur(2px) !important; }
        
        .pay-input { background: #0a0a0a; border: 1px solid #333; color: white; width: 100%; padding: 15px; outline: none; font-size: 12px; margin-bottom: 10px; text-transform: uppercase; }
        .mono-card { background: linear-gradient(135deg, #1a1a1a 0%, #000 100%); border: 1px solid #333; border-radius: 12px; padding: 20px; }
        ::-webkit-scrollbar { display: none; }
    </style>
</head>

<body class="p-4 md:p-10">

    <nav class="fixed top-10 right-10 z-50 flex flex-col items-end gap-4 text-right">
        <a href="#home" class="nav-link">Главная</a>
        <a href="#buy" class="nav-link">Купить</a>
        <a href="#contacts" class="nav-link">Контакты</a>
        <button onclick="toggleCart()" class="nav-link mt-4 border border-zinc-800 p-2">CART (<span id="cart-count">0</span>)</button>
    </nav>

    <header id="home" class="mb-40 pt-20 relative">
        <h1 class="text-7xl md:text-[12rem] font-bold tracking-tighter leading-none uppercase">Darksale</h1>
        <div class="gallery-text">Gallery</div>
    </header>

    <section id="buy" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 mb-60">
        <script>
            const products = [
                { id: 0, ref: '"Blackline" Waxed jeans', price: '35€', sold: true, desc: 'Custom waxed denim with reinforced stitching.', size: 'W30 L32', images: ['https://i.postimg.cc/fbFp49Fc/Photoroom-20260130-225625.jpg', 'https://i.postimg.cc/tTnTyFgZ/Photoroom-20260130-225839.jpg'] },
                { id: 1, ref: 'Boots', price: '30€', sold: false, desc: 'Military-inspired boots.', size: '42 EU', images: ['https://i.postimg.cc/0NdnnJvk/Photoroom-20260128-141222.jpg'] },
                { id: 2, ref: 'Cross hat', price: '10€', sold: true, desc: 'Custom cross beanie.', size: 'One Size', images: ['https://i.postimg.cc/4d25BspB/Photoroom-20260121-135030.jpg'] },
                { id: 3, ref: 'UNIT_04', price: '130$', sold: false, desc: 'Limited Archive Unit.', size: 'One Size', images: ['https://i.postimg.cc/pT4By6p9/image.png'] },
                { id: 4, ref: 'UNIT_05', price: '140$', sold: false, desc: 'Limited Archive Unit.', size: 'One Size', images: ['https://i.postimg.cc/pT4By6p9/image.png'] },
                { id: 5, ref: 'UNIT_06', price: '160$', sold: false, desc: 'Limited Archive Unit.', size: 'One Size', images: ['https://i.postimg.cc/pT4By6p9/image.png'] },
                { id: 6, ref: 'UNIT_07', price: '125$', sold: false, desc: 'Limited Archive Unit.', size: 'One Size', images: ['https://i.postimg.cc/pT4By6p9/image.png'] },
                { id: 7, ref: 'UNIT_08', price: '145$', sold: false, desc: 'Limited Archive Unit.', size: 'One Size', images: ['https://i.postimg.cc/pT4By6p9/image.png'] },
                { id: 8, ref: 'UNIT_09', price: '135$', sold: false, desc: 'Limited Archive Unit.', size: 'One Size', images: ['https://i.postimg.cc/pT4By6p9/image.png'] },
                { id: 9, ref: 'UNIT_10', price: '155$', sold: false, desc: 'Limited Archive Unit.', size: 'One Size', images: ['https://i.postimg.cc/pT4By6p9/image.png'] },
                { id: 10, ref: 'UNIT_11', price: '170$', sold: false, desc: 'Limited Archive Unit.', size: 'One Size', images: ['https://i.postimg.cc/pT4By6p9/image.png'] },
                { id: 11, ref: 'UNIT_12', price: '180$', sold: false, desc: 'Limited Archive Unit.', size: 'One Size', images: ['https://i.postimg.cc/pT4By6p9/image.png'] }
            ];

            products.forEach((p, index) => {
                document.write(`
                    <div class="product-card border border-zinc-900 p-2">
                        ${p.sold ? '<div class="sold-overlay"><div class="sold-badge">SOLD OUT</div></div>' : ''}
                        <div class="text-[8px] mb-2 opacity-20 uppercase">REF: ${p.ref}</div>
                        <div class="w-full aspect-video overflow-hidden bg-zinc-950 mb-4 border border-zinc-900">
                            <img src="${p.images[0]}" class="w-full h-full object-contain ${p.sold ? 'sold-img' : ''}">
                        </div>
                        <button onclick="openModal(${index})" class="text-[10px] uppercase ${p.sold ? 'opacity-20' : 'hover:line-through'}">
                            ${p.sold ? 'Продано' : 'Просмотр'}
                        </button>
                    </div>
                `);
            });
        </script>
    </section>

    <div id="productModal" class="fixed inset-0 z-[100] items-center justify-center p-4 bg-black/90" style="display: none;">
        <div class="max-w-5xl w-full grid grid-cols-1 gap-6 bg-black border border-zinc-900 p-6 relative">
            <div class="relative group cursor-pointer aspect-video bg-zinc-950 border border-zinc-900" onclick="nextImg()">
                <img id="sliderImg" src="" class="w-full h-full object-contain">
                <div class="absolute bottom-4 left-4 text-[10px] bg-black/80 px-2 py-1" id="imageCounter">1 / 1</div>
            </div>
            <div class="flex flex-col gap-6">
                <div class="flex justify-between items-start gap-4">
                    <div>
                        <h2 id="modalTitle" class="text-3xl font-bold uppercase tracking-tighter"></h2>
                        <div id="modalPrice" class="text-xl opacity-80 mt-1"></div>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="addToCart()" class="px-10 bg-white text-black py-4 text-xs font-bold uppercase hover:bg-zinc-300">В корзину</button>
                        <button onclick="closeModal()" class="px-6 border border-zinc-800 py-4 text-[10px] uppercase">Close</button>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-8 border-t border-zinc-900 pt-6">
                    <div><div class="text-[10px] opacity-30 uppercase mb-2">Описание</div><div id="modalDesc" class="text-[12px] opacity-70"></div></div>
                    <div><div class="text-[10px] opacity-30 uppercase mb-2">Замеры</div><div id="modalSize" class="text-[12px] opacity-70"></div></div>
                </div>
            </div>
        </div>
    </div>

    <div id="cartSidebar" class="fixed inset-0 z-[100] justify-end bg-black/50" style="display: none;">
        <div class="w-full md:w-96 bg-black border-l border-zinc-900 p-8 flex flex-col h-full">
            <div class="flex justify-between items-center mb-10 text-[10px] uppercase"><span>Shopping Cart</span><button onclick="toggleCart()">✕</button></div>
            <div id="cartItems" class="flex-1 overflow-y-auto"></div>
            <div class="border-t border-zinc-900 pt-6 mt-6">
                <div class="flex justify-between text-xs mb-6 uppercase"><span>Total:</span><span id="cart-total">0$</span></div>
                <button onclick="openCheckout()" class="w-full bg-white text-black py-4 text-[10px] font-bold uppercase">Оформить заказ</button>
            </div>
        </div>
    </div>

    <div id="checkoutModal" class="fixed inset-0 z-[150] items-center justify-center p-4 bg-black/95" style="display: none;">
        <div class="w-full max-w-md bg-black border border-zinc-800 p-8 relative">
            <button onclick="closeCheckout()" class="absolute top-4 right-4 text-white opacity-30 hover:opacity-100 text-xl">✕</button>
            <div id="step1">
                <h2 class="text-xl font-bold uppercase mb-6 text-center">CHECKOUT</h2>
                <input type="text" class="pay-input" id="clientName" placeholder="ФИО ПОЛУЧАТЕЛЯ">
                <input type="text" class="pay-input" id="clientAddress" placeholder="ГОРОД / ОТДЕЛЕНИЕ">
                <input type="text" class="pay-input" id="clientContact" placeholder="ВАШ ТЕЛЕГРАМ">
                <button onclick="nextStep()" class="w-full bg-white text-black py-4 text-[11px] font-bold uppercase mt-4">ПЕРЕЙТИ К ОПЛАТЕ</button>
            </div>
            <div id="step2" style="display:none;">
                <div class="text-center mb-6"><div id="finalPrice" class="text-4xl font-bold">0$</div></div>
                <div class="mono-card mb-6">
                    <div class="text-center text-xl font-mono mb-4">4441 1111 4254 9207</div>
                    <div class="flex justify-between text-[9px] opacity-40"><span>LEV P.</span><span>monobank</span></div>
                </div>
                <div id="tgAction" class="hidden"><a id="tgLink" href="#" target="_blank" class="w-full bg-green-600 text-white py-4 text-[11px] font-bold uppercase flex justify-center">В TELEGRAM</a></div>
                <button onclick="processPayment()" id="payBtn" class="w-full bg-white text-black py-4 text-[11px] font-bold uppercase">Я ОПЛАТИЛ</button>
            </div>
        </div>
    </div>

    <footer id="contacts" class="border-t border-zinc-900 pt-20 mt-40">
        <div class="flex justify-between items-baseline py-10">
            <div class="text-[8px] opacity-20 uppercase">© DARKSALE ALL RIGHTS RESERVED</div>
            <div class="text-[10vw] font-bold opacity-5">2026</div>
        </div>
    </footer>

    <script>
        let cart = []; let currentProduct = null; let currentImgIdx = 0;

        function openModal(index) { 
            currentProduct = products[index]; currentImgIdx = 0; updateSlider(); 
            document.getElementById('modalTitle').innerText = currentProduct.ref; 
            document.getElementById('modalPrice').innerText = currentProduct.price;
            document.getElementById('modalDesc').innerText = currentProduct.desc;
            document.getElementById('modalSize').innerText = currentProduct.size;
            document.getElementById('productModal').style.display = 'flex';
        }

        function updateSlider() { 
            document.getElementById('sliderImg').src = currentProduct.images[currentImgIdx]; 
            document.getElementById('imageCounter').innerText = `${currentImgIdx + 1} / ${currentProduct.images.length}`; 
        }

        function nextImg() { currentImgIdx = (currentImgIdx + 1) % currentProduct.images.length; updateSlider(); }
        function closeModal() { document.getElementById('productModal').style.display = 'none'; }
        
        function toggleCart() { 
            const s = document.getElementById('cartSidebar');
            s.style.display = (s.style.display === 'flex') ? 'none' : 'flex';
        }

        function addToCart() { cart.push({ ...currentProduct }); updateCartUI(); closeModal(); toggleCart(); }

        function updateCartUI() {
            document.getElementById('cart-count').innerText = cart.length;
            const container = document.getElementById('cartItems'); let total = 0;
            container.innerHTML = cart.map(item => { 
                total += parseFloat(item.price);
                return `<div class="flex justify-between mb-4 border-b border-zinc-900 pb-2 uppercase text-[10px]"><span>${item.ref}</span><span>${item.price}</span></div>`; 
            }).join('');
            document.getElementById('cart-total').innerText = total + (cart[0]?.price.includes('€') ? '€' : '$');
        }

        function openCheckout() { document.getElementById('checkoutModal').style.display = 'flex'; document.getElementById('finalPrice').innerText = document.getElementById('cart-total').innerText; toggleCart(); }
        function closeCheckout() { document.getElementById('checkoutModal').style.display = 'none'; document.getElementById('step1').style.display = 'block'; document.getElementById('step2').style.display = 'none'; }
        function nextStep() { document.getElementById('step1').style.display = 'none'; document.getElementById('step2').style.display = 'block'; }

        function processPayment() {
            document.getElementById('payBtn').innerText = "ПРОВЕРКА...";
            setTimeout(() => {
                const msg = `ЗАКАЗ: ${cart.map(i=>i.ref).join(', ')}`;
                document.getElementById('tgLink').href = `https://t.me/yamusulmaninsalam?text=${encodeURIComponent(msg)}`;
                document.getElementById('payBtn').classList.add('hidden'); 
                document.getElementById('tgAction').classList.remove('hidden');
            }, 1000);
        }
    </script>
</body>
</html>
